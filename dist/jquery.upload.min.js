/*!
 * jQuery FileUpload Plugin
 * version: 1.0.0
 * Requires jQuery v1.7.2 or later
 * Copyright 2017 Duan Yong
 * Project repository: https://github.com/duanyong/FileUpload
 * Dual licensed under the MIT and LGPLv3 licenses.
 * https://github.com/duanyong/FileUpload#license
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function($){"use strict";function log(){if(debug){var a="[jquery.upload] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}function error(a,b,c,d){a.error&&a.error.call(a.context||a,b,c,d),a.global&&(a.context?$(a.context):$.event).trigger("ajaxError",[b,a,d]),log(d.getMessage?d.getMessage():"no descrption.")}function createIframe(a,b){var c="jUploadFrame"+a,d='<iframe id="'+c+'" name="'+c+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&("boolean"==typeof b?d+=' src="javascript:false"':"string"==typeof b&&(d+=' src="'+b+'"')),d+=" />",$(d).appendTo(document.body),log("created iframe done."),!!$("#"+c).length&&$("#"+c).get(0)}function createForm(a,b,c){var d="jUploadForm"+a,e="jUploadFile"+a,f=$('<form  action="" method="POST" name="'+d+'" id="'+d+'" enctype="multipart/form-data"></form>');if(c)for(var g in c)$('<input type="hidden" name="'+g+'" value="'+c[g]+'" />').appendTo(f);var h=$("#"+b),i=$(h).clone(!0);return $(h).attr("id",e),$(h).before(i),$(h).appendTo(f),$(f).css("top","-1200px"),$(f).css("left","-1200px"),$(f).css("position","absolute"),$(f).appendTo(document.body),log("created form done."),!!$("#"+d).length&&$("#"+d).get(0)}function uploadHttpData(r,type){var data=!type;return data="xml"===type||data?r.responseXML:r.responseText,"script"==type&&$.globalEval(data),"json"==type&&eval("data = "+data),"html"==type&&$("<div>").html(data).evalScripts(),data}function upload(){var a=$(this).attr("id"),b=configs[""+a],c=createForm(a,a,void 0!==b.data&&b.data),d=createIframe(a,b.secureuri);if(!c||!d)return error(b,null,null,new Error("no form or iframe"));b.global&&!$.active++&&$.event.trigger("ajaxStart");var e={},f=!1;b.global&&$.event.trigger("ajaxSend",[e,b]);var g=function(a){try{d.contentWindow?(d.contentWindow.document.body.textContent&&(e.responseText=d.contentWindow.document.body.textContent),d.contentWindow.document.body.outerContent&&(e.responseText=d.contentWindow.document.body.outerContent),e.responseXML=d.contentWindow.document.XMLDocument?d.contentWindow.document.XMLDocument:d.contentWindow.document):d.contentDocument&&(e.responseText=d.contentDocument.document.body?d.contentDocument.document.body.innerHTML:null,e.responseXML=d.contentDocument.document.XMLDocument?d.contentDocument.document.XMLDocument:d.contentDocument.document)}catch(a){error(b,e,null,a)}if(e||"timeout"===a){var g;try{if("error"!==(g="timeout"!==a?"success":"error")){var h=uploadHttpData(e,b.dataType);b.success&&b.success(h,g),b.global&&$.event.trigger("ajaxSuccess",[e,b])}else error(b,e,g)}catch(a){error(b,e,g="error",a)}b.global&&$.event.trigger("ajaxComplete",[e,b]),b.global&&!--$.active&&$.event.trigger("ajaxStop"),b.complete&&b.complete(e,g),$(d).unbind(),setTimeout(function(){try{$(d).remove(),$(c).remove()}catch(a){error(b,e,null,a)}},100),e=null,f=!0}};b.timeout>0&&setTimeout(function(){f||g("timeout")},b.timeout);try{$(c).attr("action",b.url),$(c).attr("method","POST"),$(c).attr("target",$(d).attr("id")),c.encoding?$(c).attr("encoding","multipart/form-data"):$(c).attr("enctype","multipart/form-data"),$(c).submit()}catch(a){error(b,e,null,a)}return $(d).load(g),{abort:function(){}}}var debug=!1,configs={};$.fn.ajaxFileUpload=function(a,b){var c,d=typeof b;"object"!==d&&(c={}),"function"==typeof b?c.success=b:"object"==typeof b&&(c=$.extend(c,b)),d=typeof a,"string"===d?c.url=a:"object"===d&&(c=$.extend(c,a));var e;(e=this.attr("id"))||this.attr("id",e=(new Date).getTime()),debug=!!c.debugg,configs[""+e]=$.extend({dataType:"json"},c),this.bind("change",upload)}});
//# sourceMappingURL=jquery.upload.min.js.map
